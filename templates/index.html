<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Thyroid AI – UTT tahlil</title>

    <!-- Bootstrap 5 CSS (CDN) -->
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
    />

    <style>
        body {
            min-height: 100vh;
            background: radial-gradient(circle at top, #0d6efd 0, #020617 45%, #000 100%);
            color: #f8fafc;
            display: flex;
            flex-direction: column;
        }
        .glass-card {
            background: rgba(15, 23, 42, 0.9);
            border-radius: 1.25rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.55);
            border: 1px solid rgba(148, 163, 184, 0.3);
        }
        .brand-badge {
            letter-spacing: 0.08em;
        }
        .accent-pill {
            background: rgba(56, 189, 248, 0.1);
            border-radius: 999px;
            padding: 0.25rem 0.75rem;
            font-size: 0.8rem;
            color: #7dd3fc;
            border: 1px solid rgba(125, 211, 252, 0.3);
        }
        footer {
            font-size: 0.8rem;
            color: #9ca3af;
        }
        .result-label {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.12em;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-dark bg-transparent">
        <div class="container py-3">
            <a class="navbar-brand d-flex align-items-center gap-2" href="#">
                <span class="badge text-bg-primary brand-badge">THYROID AI</span>
                <span class="fw-semibold">Ultratovush tahlilchi</span>
            </a>
            <span class="accent-pill d-none d-md-inline-flex">
                Sun'iy intellekt yordamchi, shifokorni almashtirmaydi
            </span>
        </div>
    </nav>

    <!-- Main content -->
    <main class="container flex-grow-1 d-flex align-items-center justify-content-center py-4">
        <div class="col-12 col-lg-8">
            <div class="glass-card p-4 p-md-5">
                <div class="row g-4 align-items-start">
                    <div class="col-md-6 border-md-end border-secondary border-opacity-25">
                        <h1 class="h3 mb-2">Tiroid UTT tasvirini yuklang</h1>
                        <p class="text-secondary mb-3">
                            Model tiroid tugunining <span class="fw-semibold">benign</span> yoki
                            <span class="fw-semibold">malignant</span> bo‘lish ehtimolini taxmin qiladi.
                        </p>

                        <form
                            method="POST"
                            enctype="multipart/form-data"
                            action="{{ url_for('index') }}"
                            class="mt-3"
                        >
                            <div class="mb-3">
                                <label for="image" class="form-label">UTT tasvirini tanlang</label>
                                <input
                                    class="form-control form-control-sm"
                                    type="file"
                                    id="image"
                                    name="image"
                                    accept="image/*"
                                    required
                                />
                                <div class="form-text text-secondary">
                                    Format: JPG, PNG yoki DICOM’dan eksport qilingan rasm.
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary w-100">
                                Tahlilni boshlash
                            </button>
                        </form>

                        <div class="mt-3 small text-warning d-flex align-items-start gap-2">
                            <span class="mt-1">⚠️</span>
                            <span>
                                Ushbu tizim faqat o‘quv va ilmiy maqsadlarda. Yakuniy qaror
                                uchun albatta tajribali shifokor bilan maslahat qiling.
                            </span>
                        </div>
                    </div>

                    <div class="col-md-6 mt-4 mt-md-0">
                        {% if result %}
                            <div class="mb-3">
                                <div class="result-label text-secondary mb-1">
                                    Model xulosasi
                                </div>
                                <div class="alert alert-info mb-2">
                                    {{ result }}
                                </div>
                                {% if details %}
                                    <p class="mb-0 small text-secondary">
                                        {{ details }}
                                    </p>
                                {% endif %}
                            </div>
                        {% else %}
                            <div class="mb-3">
                                <div class="result-label text-secondary mb-1">
                                    Model holati
                                </div>
                                <div class="alert alert-dark mb-2">
                                    Rasm yuklang va “Tahlilni boshlash” tugmasini bosing.
                                </div>
                                <p class="small text-secondary">
                                    Model ResNet18 asosidagi ikki sinfli klassifikator bo‘lib,
                                    benign va malignant tugunlarning ehtimolini hisoblaydi.
                                </p>
                            </div>
                        {% endif %}

                        <hr class="border-secondary border-opacity-25" />

                        <div class="small text-secondary">
                            <h2 class="h6 text-light">Qanday ishlaydi?</h2>
                            <ul class="ps-3 mb-2">
                                <li>Rasm 224 × 224 o‘lchamga keltiriladi.</li>
                                <li>Normalizatsiya va standartlashtirish amalga oshiriladi.</li>
                                <li>
                                    ONNX formatdagi model benign/malignant ehtimollarini
                                    qaytaradi.
                                </li>
                                <li>
                                    Ishonchlilik past bo‘lsa, natija
                                    <span class="fw-semibold">“NOANIQ”</span> sifatida ko‘rsatiladi.
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="py-3">
        <div class="container text-center">
            Thyroid AI &middot;
            <span class="text-secondary">
                Bu AI modeli, shifokor o‘rnini bosa olmaydi.
            </span>
        </div>
    </footer>

    <!-- Bootstrap JS (ixtiyoriy, modal/tooltiplar uchun) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
